<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#58CC02">
  <title>LinguaKids - Level 2</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  body, html { 
    margin: 0; 
    padding: 0; 
    font-family: 'Quicksand', sans-serif; 
    background:#f6f8ff; 
    overflow-x: hidden; /* prevent horizontal scroll */
  }

  h2 { 
    text-align:center; 
    color:#58cc02; 
    font-family:'Baloo 2', cursive; 
  }

  /* Grid: 5 items per row on desktop */
  .item-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr); /* 5 per row */
    gap: 20px;
    margin: 20px auto;
    padding: 0 15px;  /* safe padding so items don't touch edges */
    max-width: 1200px; /* keeps grid inside desktop */
    box-sizing: border-box;
  }

  .item-card {
    background: white;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    width: 100%;
    box-sizing: border-box;
  }

  .item-card div { margin: 5px 0; }

  .item-card img {
    width: 50px;
    height: 50px;
    object-fit: contain;
  }

  .speak-btn {
    background: linear-gradient(to right,#58cc02,#1cb0f6);
    border: none; 
    color: white; 
    padding: 6px 12px;
    border-radius: 50px; 
    cursor: pointer;
    font-size: 0.9rem; 
    font-family: 'Baloo 2', cursive;
  }
  .speak-btn:hover { opacity: 0.9; }

  /* Back button */
  .btn {
    background: linear-gradient(to right,#58cc02,#1cb0f6);
    border: none; 
    color: white; 
    padding: 8px 20px; 
    border-radius: 50px;
    font-family: 'Baloo 2', cursive; 
    cursor: pointer; 
    margin: 10px 5px;
  }
  .btn:active { transform: scale(0.96); }

  /* Tablet / medium screens */
  @media (max-width: 900px) {
    .item-grid {
      grid-template-columns: repeat(3, 1fr); /* 3 per row */
      max-width: 100%;
      padding: 0 10px; /* prevent cutoff */
    }
  }

  /* Mobile */
  @media (max-width: 600px) {
    .item-grid {
      grid-template-columns: repeat(2, 1fr); /* 2 per row */
      max-width: 100%;
      padding: 0 8px; /* keep boxes inside */
    }
  }
</style>
</head>
<body>
  <button onclick="goBack()" class="btn">Back</button>
  <h2 id="categoryTitle"></h2>
  <div id="content" class="item-grid"></div>

<script>
const DATA = {
  fruits: [
    {name: "Apfel", icon: "ðŸŽ", english: "Apple"},
    {name: "Banane", icon: "ðŸŒ", english: "Banana"},
    {name: "Orange", icon: "ðŸŠ", english: "Orange"},
    {name: "Mango", icon: "ðŸ¥­", english: "Mango"},
    {name: "Trauben", icon: "ðŸ‡", english: "Grapes"},
    {name: "Ananas", icon: "ðŸ", english: "Pineapple"},
    {name: "Erdbeere", icon: "ðŸ“", english: "Strawberry"},
    {name: "Wassermelone", icon: "ðŸ‰", english: "Watermelon"},
    {name: "Kirsche", icon: "ðŸ’", english: "Cherry"},
    {name: "Pfirsich", icon: "ðŸ‘", english: "Peach"},
    {name: "Birne", icon: "ðŸ", english: "Pear"},
{name: "Kiwi", icon: "ðŸ¥", english: "Kiwi"},
{name: "Zitrone", icon: "ðŸ‹", english: "Lemon"},
{name: "Melone", icon: "ðŸˆ", english: "Melon"},
{name: "Kokosnuss", icon: "ðŸ¥¥", english: "Coconut"},
{name: "Granatapfel", icon: "ðŸŽ", english: "Pomegranate"},
{name: "Aprikose", icon: "ðŸ‘", english: "Apricot"},
  ],
  vegetables: [
    {name: "Karotte", icon: "ðŸ¥•", english: "Carrot"},
    {name: "Kartoffel", icon: "ðŸ¥”", english: "Potato"},
    {name: "Tomate", icon: "ðŸ…", english: "Tomato"},
    {name: "Kohl", icon: "ðŸ¥¬", english: "Cabbage"},
    {name: "Mais", icon: "ðŸŒ½", english: "Corn"},
    {name: "Zwiebel", icon: "ðŸ§…", english: "Onion"},
    {name: "Knoblauch", icon: "ðŸ§„", english: "Garlic"},
    {name: "Brokkoli", icon: "ðŸ¥¦", english: "Broccoli"},
    {name: "Gurke", icon: "ðŸ¥’", english: "Cucumber"},
    {name: "Paprika", icon: "ðŸŒ¶ï¸", english: "Pepper"},
    {name: "Spinat", icon: "ðŸ¥¬", english: "Spinach"},
{name: "Pilz", icon: "ðŸ„", english: "Mushroom"},
{name: "KÃ¼rbis", icon: "ðŸŽƒ", english: "Pumpkin"},
{name: "Sellerie", icon: "ðŸ¥¬", english: "Celery"},
{name: "Aubergine", icon: "ðŸ†", english: "Eggplant"},
{name: "Blumenkohl", icon: "ðŸ¥¦", english: "Cauliflower"},
{name: "Fenchel", icon: "ðŸŒ¿", english: "Fennel"}
  ],
  animals: [
    {name: "LÃ¶we", icon: "ðŸ¦", english: "Lion"},
    {name: "Tiger", icon: "ðŸ¯", english: "Tiger"},
    {name: "Elefant", icon: "ðŸ˜", english: "Elephant"},
    {name: "Hund", icon: "ðŸ¶", english: "Dog"},
    {name: "Katze", icon: "ðŸ±", english: "Cat"},
    {name: "Pferd", icon: "ðŸ´", english: "Horse"},
    {name: "Affe", icon: "ðŸµ", english: "Monkey"},
    {name: "Kuh", icon: "ðŸ„", english: "Cow"},
    {name: "Hase", icon: "ðŸ‡", english: "Rabbit"},
    {name: "Schaf", icon: "ðŸ‘", english: "Sheep"},
    {name: "Fuchs", icon: "ðŸ¦Š", english: "Fox"},
{name: "Wolf", icon: "ðŸº", english: "Wolf"},
{name: "Schwein", icon: "ðŸ·", english: "Pig"},
{name: "BÃ¤r", icon: "ðŸ»", english: "Bear"},
{name: "Kamel", icon: "ðŸ«", english: "Camel"},
{name: "Zebra", icon: "ðŸ¦“", english: "Zebra"},
{name: "Giraffe", icon: "ðŸ¦’", english: "Giraffe"},
{name: "KÃ¤nguru", icon: "ðŸ¦˜", english: "Kangaroo"},
{name: "Nilpferd", icon: "ðŸ¦›", english: "Hippo"},
{name: "Panda", icon: "ðŸ¼", english: "Panda"}
  ],
  birds: [
    {name: "Papagei", icon: "ðŸ¦œ", english: "Parrot"},
    {name: "KrÃ¤he", icon: "ðŸ¦", english: "Crow"},
    {name: "Pfau", icon: "ðŸ¦š", english: "Peacock"},
    {name: "Sperling", icon: "ðŸ¤", english: "Sparrow"},
    {name: "Eule", icon: "ðŸ¦‰", english: "Owl"},
    {name: "Pinguin", icon: "ðŸ§", english: "Penguin"},
    {name: "Ente", icon: "ðŸ¦†", english: "Duck"},
    {name: "Adler", icon: "ðŸ¦…", english: "Eagle"},
    {name: "Taube", icon: "ðŸ•Šï¸", english: "Dove"},
    {name: "Flamingo", icon: "ðŸ¦©", english: "Flamingo"},
    {name: "Kanarienvogel", icon: "ðŸ¤", english: "Canary"},
{name: "Schwan", icon: "ðŸ¦¢", english: "Swan"},
{name: "Geier", icon: "ðŸ¦…", english: "Vulture"},
{name: "Specht", icon: "ðŸ¦", english: "Woodpecker"},
{name: "Huhn", icon: "ðŸ”", english: "Hen"}
  ],
  vehicles: [
    {name: "Auto", icon: "ðŸš—", english: "Car"},
    {name: "Bus", icon: "ðŸšŒ", english: "Bus"},
    {name: "Zug", icon: "ðŸš†", english: "Train"},
    {name: "Flugzeug", icon: "âœˆï¸", english: "Airplane"},
    {name: "Fahrrad", icon: "ðŸš²", english: "Bike"},
    {name: "LKW", icon: "ðŸšš", english: "Truck"},
    {name: "Schiff", icon: "ðŸš¢", english: "Ship"},
    {name: "Helikopter", icon: "ðŸš", english: "Helicopter"},
    {name: "Taxi", icon: "ðŸš–", english: "Taxi"},
    {name: "Traktor", icon: "ðŸšœ", english: "Tractor"},
    {name: "Motorrad", icon: "ðŸï¸", english: "Motorcycle"},
{name: "Roller", icon: "ðŸ›µ", english: "Scooter"},
{name: "Rakete", icon: "ðŸš€", english: "Rocket"},
{name: "U-Boot", icon: "ðŸš¢", english: "Submarine"},
{name: "Polizeiauto", icon: "ðŸš“", english: "Police Car"},
{name: "Feuerwehrauto", icon: "ðŸš’", english: "Fire Truck"},
{name: "Ambulanz", icon: "ðŸš‘", english: "Ambulance"},
{name: "Bagger", icon: "ðŸš§", english: "Excavator"},
{name: "Kran", icon: "ðŸ—ï¸", english: "Crane"},
{name: "Boot", icon: "â›µ", english: "Boat"}
  ],
  colors: [
    {name: "Rot", icon: "ðŸ”´", english: "Red"},
    {name: "Blau", icon: "ðŸ”µ", english: "Blue"},
    {name: "GrÃ¼n", icon: "ðŸŸ¢", english: "Green"},
    {name: "Gelb", icon: "ðŸŸ¡", english: "Yellow"},
    {name: "Lila", icon: "ðŸŸ£", english: "Purple"},
    {name: "Orange", icon: "ðŸŸ ", english: "Orange"},
    {name: "Braun", icon: "ðŸŸ¤", english: "Brown"},
    {name: "Schwarz", icon: "âš«", english: "Black"},
    {name: "WeiÃŸ", icon: "âšª", english: "White"},
    {name: "Rosa", icon: "ðŸŒ¸", english: "Pink"}
  ]
};

function getCategory(){
  const params = new URLSearchParams(window.location.search);
  return params.get("category");
}

function loadCategory(){
  const cat = getCategory();
  const items = DATA[cat] || [];

  // REMOVED: The unnecessary and erroneous call to updateLevel2WordProgress(cat, index) here.

  document.getElementById("categoryTitle").textContent =
    cat ? "Kategorie: " + cat.charAt(0).toUpperCase() + cat.slice(1) + " (Category: " + cat.charAt(0).toUpperCase() + cat.slice(1) + ")" : "Kategorie (Category)";
  
  document.getElementById("content").innerHTML = items.map((i, index) => `
  <div class="item-card">
    <div style="font-size:2rem;">
      ${i.icon.includes("images/") 
        ? `<img src="${i.icon}" alt="${i.name}">` 
        : i.icon}
    </div>
    <div style="font-weight:bold;">${i.name}</div>
    <div style="font-size:0.8rem; color:#666;">${i.english}</div>
    <button class="speak-btn" onclick="speak('${i.name}', '${cat}', ${index})">ðŸ”Š</button>
  </div>
`).join("");
}

function speak(text, category, index){
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = "de-DE";
  speechSynthesis.speak(utter);
  
  // Track progress when speaker icon is clicked
  if (typeof updateLevel2WordProgress === 'function') {
    updateLevel2WordProgress(category, index);
  }
}

function goBack(){
  window.location.href = "german.html";
}

loadCategory();

</script>
<script src="grprogress.js"></script>
<script src="script.js"></script>

</body>
</html>
<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#58CC02">
  <title>LinguaKids - Marathi Level 3</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    body, html { 
      margin: 0; 
      padding: 0; 
      font-family: 'Quicksand', sans-serif; 
      background:#f6f8ff; 
      overflow-x: hidden;
    }

    h2 { 
      text-align:center; 
      color:#58cc02; 
      font-family:'Baloo 2', cursive; 
    }

    .sentence-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 20px auto;
      padding: 0 15px;
      max-width: 1000px;
      box-sizing: border-box;
    }

    .sentence-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .sentence-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0,0,0,0.15);
    }

    .marathi-sentence {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 10px;
      color: #58cc02;
    }

    .english-translation {
      color: #666;
      font-style: italic;
      margin-bottom: 15px;
    }

    .speak-btn {
      background: linear-gradient(to right,#58cc02,#1cb0f6);
      border: none; 
      color: white; 
      padding: 8px 16px;
      border-radius: 50px; 
      cursor: pointer;
      font-family: 'Baloo 2', cursive;
      margin: 5px;
      transition: all 0.2s;
    }

    .speak-btn:hover {
      transform: scale(1.05);
    }

    .speak-btn:active {
      transform: scale(0.95);
    }

    .btn {
      background: linear-gradient(to right,#58cc02,#1cb0f6);
      border: none; 
      color: white; 
      padding: 8px 20px; 
      border-radius: 50px;
      font-family: 'Baloo 2', cursive; 
      cursor: pointer; 
      margin: 10px 5px;
    }
     .btn:active { transform: scale(0.96); }

    @media (max-width: 600px) {
      .sentence-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <button onclick="goBack()" class="btn">Back</button>
  <h2 id="categoryTitle"></h2>
  <div id="content" class="sentence-grid"></div>

<script>
// ===== PAGE-SPECIFIC DATA AND FUNCTIONS =====

const SENTENCES = {
  greetings: [
    {marathi: "à¤¨à¤®à¤¸à¥à¤•à¤¾à¤°", english: "Hello", icon: "ðŸ‘‹"}, {marathi: "à¤¶à¥à¤­ à¤ªà¥à¤°à¤­à¤¾à¤¤", english: "Good morning", icon: "ðŸŒ…"}, {marathi: "à¤¶à¥à¤­ à¤¸à¤‚à¤§à¥à¤¯à¤¾à¤•à¤¾à¤³", english: "Good evening", icon: "ðŸŒ‡"}, {marathi: "à¤¶à¥à¤­ à¤°à¤¾à¤¤à¥à¤°à¥€", english: "Good night", icon: "ðŸŒ™"}, {marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤•à¤¸à¥‡ à¤†à¤¹à¤¾à¤¤?", english: "How are you?", icon: "ðŸ™‚"}, {marathi: "à¤§à¤¨à¥à¤¯à¤µà¤¾à¤¦", english: "Thank you", icon: "ðŸ™"}, {marathi: "à¤•à¥ƒà¤ªà¤¯à¤¾", english: "Please", icon: "ðŸ¥º"}, {marathi: "à¤®à¤²à¤¾ à¤®à¤¾à¤« à¤•à¤°à¤¾", english: "Excuse me", icon: "ðŸ™‡"}, {marathi: "à¤¨à¤¿à¤°à¥‹à¤ª", english: "Goodbye", icon: "ðŸ‘‹"}, {marathi: "à¤ªà¥à¤¨à¥à¤¹à¤¾ à¤­à¥‡à¤Ÿà¥‚", english: "See you again", icon: "ðŸ‘‹"}, {marathi: "à¤¤à¥à¤®à¤šà¥€ à¤­à¥‡à¤Ÿ à¤›à¤¾à¤¨ à¤µà¤¾à¤Ÿà¤²à¥€", english: "Nice to meet you", icon: "ðŸ¤"},
{marathi: "à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤†à¤¹à¥‡", english: "Welcome", icon: "ðŸ¤—"},
{marathi: "à¤•à¤¾à¤¯ à¤šà¤¾à¤²à¤²à¤‚à¤¯?", english: "What's going on?", icon: "ðŸ™‚"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤²à¤¾ à¤­à¥‡à¤Ÿà¥‚à¤¨ à¤†à¤¨à¤‚à¤¦ à¤à¤¾à¤²à¤¾", english: "Happy to see you", icon: "ðŸ˜Š"},
{marathi: "à¤¶à¥à¤­à¥‡à¤šà¥à¤›à¤¾", english: "Best wishes", icon: "ðŸŒŸ"},
{marathi: "à¤•à¤¾à¤³à¤œà¥€ à¤˜à¥à¤¯à¤¾", english: "Take care", icon: "ðŸ’›"},
{marathi: "à¤¤à¥à¤®à¤šà¤¾ à¤¦à¤¿à¤µà¤¸ à¤†à¤¨à¤‚à¤¦à¥€ à¤œà¤¾à¤µà¥‹", english: "Have a nice day", icon: "ðŸŒž"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤²à¤¾ à¤¶à¥à¤­à¥‡à¤šà¥à¤›à¤¾!", english: "Good luck!", icon: "ðŸ€"},
{marathi: "à¤¸à¤—à¤³à¤‚ à¤ à¥€à¤• à¤†à¤¹à¥‡?", english: "Is everything okay?", icon: "ðŸ¤”"},
{marathi: "à¤¤à¥à¤®à¤šà¤¾ à¤¦à¤¿à¤µà¤¸ à¤•à¤¸à¤¾ à¤¹à¥‹à¤¤à¤¾?", english: "How was your day?", icon: "ðŸŒ…"},
{marathi: "à¤›à¤¾à¤¨!", english: "Great!", icon: "ðŸ˜„"},
{marathi: "à¤…à¤­à¤¿à¤¨à¤‚à¤¦à¤¨!", english: "Congratulations!", icon: "ðŸŽ‰"},
{marathi: "à¤®à¤¾à¤« à¤•à¤°à¤¾", english: "Sorry", icon: "ðŸ˜”"},
{marathi: "à¤§à¤¨à¥à¤¯à¤µà¤¾à¤¦! à¤¤à¥à¤®à¥à¤¹à¥€ à¤–à¥‚à¤ª à¤šà¤¾à¤‚à¤—à¤²à¥‡ à¤†à¤¹à¤¾à¤¤", english: "Thank you! You are very nice", icon: "ðŸ™"},
{marathi: "à¤ªà¥à¤¢à¥‡ à¤šà¤¾à¤²à¥‚ à¤ à¥‡à¤µà¤¾", english: "Keep going", icon: "âž¡ï¸"}

  ],
  activities: [
    {marathi: "à¤®à¥€ à¤–à¤¾à¤¤à¥‹", english: "I eat", icon: "ðŸ½ï¸"}, {marathi: "à¤®à¥€ à¤ªà¤¿à¤¤à¥‹", english: "I drink", icon: "ðŸ¥›"}, {marathi: "à¤®à¥€ à¤à¥‹à¤ªà¤¤à¥‹", english: "I sleep", icon: "ðŸ˜´"}, {marathi: "à¤®à¥€ à¤–à¥‡à¤³à¤¤à¥‹", english: "I play", icon: "âš½"}, {marathi: "à¤®à¥€ à¤µà¤¾à¤šà¤¤à¥‹", english: "I read", icon: "ðŸ“–"}, {marathi: "à¤®à¥€ à¤²à¤¿à¤¹à¤¿à¤¤à¥‹", english: "I write", icon: "âœï¸"}, {marathi: "à¤®à¥€ à¤—à¤¾à¤¤à¥‹", english: "I sing", icon: "ðŸŽ¤"}, {marathi: "à¤®à¥€ à¤¨à¤¾à¤šà¤¤à¥‹", english: "I dance", icon: "ðŸ’ƒ"}, {marathi: "à¤®à¥€ à¤šà¤¾à¤²à¤¤à¥‹", english: "I walk", icon: "ðŸš¶"}, {marathi: "à¤®à¥€ à¤§à¤¾à¤µà¤¤à¥‹", english: "I run", icon: "ðŸƒ"}, {marathi: "à¤®à¥€ à¤¶à¤¿à¤•à¤¤à¥‹", english: "I study", icon: "ðŸ“š"},
{marathi: "à¤®à¥€ à¤¸à¥à¤µà¤¯à¤‚à¤ªà¤¾à¤• à¤•à¤°à¤¤à¥‹", english: "I cook", icon: "ðŸ³"},
{marathi: "à¤®à¥€ à¤¸à¤¾à¤«à¤¸à¤«à¤¾à¤ˆ à¤•à¤°à¤¤à¥‹", english: "I clean", icon: "ðŸ§¹"},
{marathi: "à¤®à¥€ à¤šà¤¿à¤¤à¥à¤° à¤•à¤¾à¤¢à¤¤à¥‹", english: "I draw", icon: "ðŸŽ¨"},
{marathi: "à¤®à¥€ à¤ªà¥‹à¤¹à¤¤à¥‹", english: "I swim", icon: "ðŸŠ"},
{marathi: "à¤®à¥€ à¤¬à¤¸à¤¤à¥‹", english: "I sit", icon: "ðŸª‘"},
{marathi: "à¤®à¥€ à¤‰à¤ à¤¤à¥‹", english: "I get up", icon: "â°"},
{marathi: "à¤®à¥€ à¤¥à¤¾à¤‚à¤¬à¤¤à¥‹", english: "I wait", icon: "â³"},
{marathi: "à¤®à¥€ à¤¹à¤¸à¤¤à¥‹", english: "I laugh", icon: "ðŸ˜„"},
{marathi: "à¤®à¥€ à¤®à¤¦à¤¤ à¤•à¤°à¤¤à¥‹", english: "I help", icon: "ðŸ¤"},
{marathi: "à¤®à¥€ à¤¹à¤¾à¤¤ à¤§à¥à¤¤à¥‹", english: "I wash my hands", icon: "ðŸ§¼"},
{marathi: "à¤®à¥€ à¤à¤•à¤¤à¥‹", english: "I listen", icon: "ðŸ‘‚"},
{marathi: "à¤®à¥€ à¤–à¤°à¥‡à¤¦à¥€ à¤•à¤°à¤¤à¥‹", english: "I shop", icon: "ðŸ›’"},
{marathi: "à¤®à¥€ à¤–à¥‡à¤³ à¤¬à¤˜à¤¤à¥‹", english: "I watch a game", icon: "ðŸ€"},
{marathi: "à¤®à¥€ à¤µà¤¿à¤šà¤¾à¤° à¤•à¤°à¤¤à¥‹", english: "I think", icon: "ðŸ’­"}

  ],
  questions: [
    {marathi: "à¤¤à¥à¤®à¤šà¤‚ à¤¨à¤¾à¤µ à¤•à¤¾à¤¯ à¤†à¤¹à¥‡?", english: "What is your name?", icon: "â“"}, {marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤•à¥à¤ à¥‡ à¤°à¤¾à¤¹à¤¤à¤¾?", english: "Where do you live?", icon: "ðŸ "}, {marathi: "à¤¤à¥à¤®à¤šà¥‡ à¤µà¤¯ à¤•à¤¿à¤¤à¥€ à¤†à¤¹à¥‡?", english: "How old are you?", icon: "ðŸŽ‚"}, {marathi: "à¤¹à¥‡ à¤•à¤¾à¤¯ à¤†à¤¹à¥‡?", english: "What is this?", icon: "â“"}, {marathi: "à¤•à¤¿à¤¤à¥€ à¤†à¤¹à¥‡?", english: "How much is it?", icon: "ðŸ’°"}, {marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤ à¥€à¤• à¤†à¤¹à¤¾à¤¤ à¤•à¤¾?", english: "Are you okay?", icon: "ðŸ¤”"}, {marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤•à¤¾à¤¯ à¤•à¤°à¤¤ à¤†à¤¹à¤¾à¤¤?", english: "What are you doing?", icon: "â“"}, {marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤®à¤¾à¤à¥‡ à¤®à¤¿à¤¤à¥à¤° à¤µà¥à¤¹à¤¾à¤² à¤•à¤¾?", english: "Will you be my friend?", icon: "ðŸ¤"}, {marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤®à¤²à¤¾ à¤®à¤°à¤¾à¤ à¥€ à¤¶à¤¿à¤•à¤µà¥‚ à¤¶à¤•à¤¤à¤¾ à¤•à¤¾?", english: "Can you teach me Marathi?", icon: "ðŸ“š"}, {marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤‡à¤‚à¤—à¥à¤°à¤œà¥€ à¤¬à¥‹à¤²à¤¤à¤¾ à¤•à¤¾?", english: "Do you speak English?", icon: "ðŸ—£ï¸"}, {marathi: "à¤¤à¥à¤®à¤šà¤¾ à¤†à¤µà¤¡à¤¤à¤¾ à¤°à¤‚à¤— à¤•à¥‹à¤£à¤¤à¤¾?", english: "What is your favorite color?", icon: "ðŸŽ¨"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤²à¤¾ à¤•à¤¾à¤¯ à¤–à¤¾à¤¯à¤²à¤¾ à¤†à¤µà¤¡à¤¤à¤‚?", english: "What do you like to eat?", icon: "ðŸ½ï¸"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤•à¥à¤ à¥‡ à¤œà¤¾à¤¤ à¤†à¤¹à¤¾à¤¤?", english: "Where are you going?", icon: "âž¡ï¸"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤²à¤¾ à¤–à¥‡à¤³ à¤†à¤µà¤¡à¤¤à¤¾à¤¤ à¤•à¤¾?", english: "Do you like games?", icon: "ðŸŽ®"},
{marathi: "à¤¹à¥‡ à¤•à¥à¤£à¤¾à¤šà¥‡ à¤†à¤¹à¥‡?", english: "Whose is this?", icon: "â“"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤®à¤¾à¤à¥€ à¤®à¤¦à¤¤ à¤•à¤°à¤¾à¤² à¤•à¤¾?", english: "Will you help me?", icon: "ðŸ¤"},
{marathi: "à¤¹à¥‡ à¤•à¤¿à¤¤à¥€ à¤µà¤¾à¤œà¤²à¥‡?", english: "What time is it?", icon: "â°"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤–à¥‡à¤³à¤¾à¤¯à¤²à¤¾ à¤¯à¥‡à¤£à¤¾à¤° à¤•à¤¾?", english: "Will you come to play?", icon: "âš½"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤¶à¤¾à¤³à¥‡à¤¤ à¤œà¤¾à¤¤à¤¾ à¤•à¤¾?", english: "Do you go to school?", icon: "ðŸ«"},
{marathi: "à¤¤à¥à¤®à¤šà¤¾ à¤®à¤¿à¤¤à¥à¤° à¤•à¥‹à¤£ à¤†à¤¹à¥‡?", english: "Who is your friend?", icon: "ðŸ§’"},
{marathi: "à¤¹à¥‡ à¤®à¤¨à¥‹à¤°à¤‚à¤œà¤• à¤†à¤¹à¥‡ à¤•à¤¾?", english: "Is this interesting?", icon: "ðŸ¤“"},
{marathi: "à¤®à¥€ à¤†à¤¤ à¤¯à¥‡à¤Š à¤•à¤¾?", english: "May I come in?", icon: "ðŸšª"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤²à¤¾ à¤ªà¤¾à¤£à¥€ à¤¹à¤µà¤‚ à¤•à¤¾?", english: "Do you want water?", icon: "ðŸ’§"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤¤à¤¯à¤¾à¤° à¤†à¤¹à¤¾à¤¤ à¤•à¤¾?", english: "Are you ready?", icon: "ðŸ‘"},
{marathi: "à¤¤à¥à¤®à¥à¤¹à¥€ à¤•à¥à¤ à¥‚à¤¨ à¤†à¤²à¤¾?", english: "Where are you from?", icon: "ðŸŒ"}

  ]
};

const CATEGORY_NAMES = {
  greetings: "à¤…à¤­à¤¿à¤µà¤¾à¤¦à¤¨ (Greetings)",
  activities: "à¤¦à¥ˆà¤¨à¤‚à¤¦à¤¿à¤¨ à¤•à¥à¤°à¤¿à¤¯à¤¾ (Daily Activities)",
  questions: "à¤¸à¥‹à¤ªà¥‡ à¤ªà¥à¤°à¤¶à¥à¤¨ à¤†à¤£à¤¿ à¤‰à¤¤à¥à¤¤à¤°à¥‡ (Simple Questions & Answers)"
};

const urlParams = new URLSearchParams(window.location.search);
const category = urlParams.get('category');

/**
 * Tracks progress for a specific sentence by calling the global update function.
 * @param {string} category - The category of the sentence (e.g., 'greetings').
 * @param {number} index - The unique index of the item within its category.
 */
function trackSentenceProgress(category, index) {
  if (typeof updateMarathiProgress === 'function') {
    // Pass the index as the unique itemId for accurate tracking in mrprogress.js
    updateMarathiProgress('level3', category, index);
  }
}

function speakText(text) {
  if ('speechSynthesis' in window) {
    window.speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = text.match(/[a-zA-Z]/) ? 'en-US' : 'mr-IN';
    utterance.rate = 0.8;
    speechSynthesis.speak(utterance);
  } else {
    alert('Speech synthesis not supported in this browser.');
  }
}

function goBack() {
  window.location.href = 'marathi.html';
}

// ===== INITIALIZATION =====

function initializePage() {
  if (category && SENTENCES[category]) {
    document.getElementById('categoryTitle').textContent = CATEGORY_NAMES[category];
    
    // CORRECTED: Pass the 'index' to track each sentence individually
    const contentDiv = document.getElementById('content');
    contentDiv.innerHTML = SENTENCES[category].map((item, index) => `
      <div class="sentence-card" onclick="trackSentenceProgress('${category}', ${index})">
        <div style="font-size: 2rem; margin-bottom: 10px;">${item.icon}</div>
        <div class="marathi-sentence">${item.marathi}</div>
        <div class="english-translation">${item.english}</div>
        <button class="speak-btn" onclick="event.stopPropagation(); speakText('${item.marathi}'); trackSentenceProgress('${category}', ${index});">
          <i class="fas fa-volume-up"></i>
        </button>
      </div>
    `).join('');
  } else {
    document.getElementById('content').innerHTML = '<p>Category not found. Please go back and select a valid category.</p>';
  }
}

// Initialize the progress system and the page content when the page loads
document.addEventListener('DOMContentLoaded', function() {
  if (typeof initMarathiProgress === 'function') {
    initMarathiProgress();
  }
  initializePage();
});
</script>

<script src="mrprogress.js"></script>
<script src="script.js"></script>

</body>
</html>